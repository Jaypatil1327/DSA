<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Trie Autocomplete</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; }
    input { padding: 8px; width: 200px; }
    ul { list-style: none; padding: 0; margin-top: 1rem; }
    li { padding: 5px 0; }
  </style>
</head>
<body>
  <h2>Autocomplete using Trie</h2>
  <input type="text" id="autocomplete-input" placeholder="Type to search...">
  <ul id="suggestions"></ul>

  <script>
    class TrieNode {
      constructor() {
        this.children = new Map();
        this.isEnd = false;
      }
    }

    class Trie {
      constructor() {
        this.root = new TrieNode();
      }

      insert(word) {
        let node = this.root;
        for (let char of word) {
          if (!node.children.has(char)) {
            node.children.set(char, new TrieNode());
          }
          node = node.children.get(char);
        }
        node.isEnd = true;
      }

      searchPrefix(prefix) {
        let node = this.root;
        for (let char of prefix) {
          if (!node.children.has(char)) return null;
          node = node.children.get(char);
        }
        return node;
      }

      collectAllWords(node, prefix, result) {
        if (node.isEnd) result.push(prefix);
        for (let [char, child] of node.children) {
          this.collectAllWords(child, prefix + char, result);
        }
      }

      autocomplete(prefix) {
        const result = [];
        const node = this.searchPrefix(prefix);
        if (node) {
          this.collectAllWords(node, prefix, result);
        }
        return result;
      }
    }

    const trie = new Trie();
    const words = ["sanket", "sahil", "san", "sandesh", "samir", "sameer"];
    words.forEach(word => trie.insert(word));

    const input = document.getElementById("autocomplete-input");
    const suggestionList = document.getElementById("suggestions");

    input.addEventListener("input", () => {
      const query = input.value.toLowerCase().trim();
      suggestionList.innerHTML = "";
      if (query.length > 0) {
        const suggestions = trie.autocomplete(query);
        suggestions.forEach(word => {
          const li = document.createElement("li");
          li.textContent = word;
          suggestionList.appendChild(li);
        });
      }
    });
  </script>
</body>
</html>
